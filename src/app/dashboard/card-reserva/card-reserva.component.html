<div class="card-reserva" *ngIf="dadosReserva">
  <div class="reserva-header">
    <h4>Reserva #{{ dadosReserva.id }}</h4>
    <strong class="{{ dadosReserva.status }}"
      >Reserva {{ statusToString(dadosReserva.status!) | titlecase }}</strong
    >
  </div>

  <div class="reserva-body">
    <div class="row w-100">
      <div class="col-12">
        <p>
          <strong>Período: </strong>
          <span
            >{{
              dadosReserva.dataHoraInicioReserva | date : "HH:mm"
            }}
            às
            {{ dadosReserva.dataHoraFimReserva | date : "HH:mm - dd/MM/yyyy" }}</span
          >
        </p>
      </div>

      <div class="col-12" *ngIf="local">
        <p>
          <strong>Local: </strong> <span>{{ local | titlecase }}</span>
        </p>
      </div>

      <div class="col-12">
        <p>
          <strong>Quantidade de participantes: </strong>
          <span>{{ dadosReserva.qtdParticipantes }} pessoas</span>
        </p>
      </div>
    </div>

    <div>
      <p
        (click)="motivoReserva.toggle()"
        [attr.aria-expanded]="!motivoReservaCollapsed"
        aria-controls="collapseExample"
        class="motivo-reserva-collapse mb-1"
      >
        <strong>
          Motivo da reserva
          <span>
            <fa-icon [icon]="changeIcon(motivoReservaCollapsed)"></fa-icon>
          </span>
        </strong>
      </p>

      <div
        #motivoReserva="ngbCollapse"
        [(ngbCollapse)]="motivoReservaCollapsed"
      >
        <div>
          <p>{{ dadosReserva.motivoSolicitacao }}</p>
        </div>
      </div>
    </div>

    <div *ngIf="dadosReserva.status == statusLocacao.NEGADA">
      <p
        (click)="collapse.toggle()"
        [attr.aria-expanded]="!justificativaReservaCollapsed"
        aria-controls="collapseExample"
        class="motivo-reserva-collapse mb-1"
      >
        <strong>
          Justificativa para reserva negada
          <span>
            <fa-icon
              [icon]="changeIcon(justificativaReservaCollapsed)"
            ></fa-icon>
          </span>
        </strong>
      </p>

      <div
        #collapse="ngbCollapse"
        [(ngbCollapse)]="justificativaReservaCollapsed"
      >
        <div>
          <p>{{ dadosReserva.motivoCancelamento }}</p>
        </div>
      </div>
    </div>
  </div>

  <div class="reserva-footer">
    <app-btn-green
    *ngIf="showConfirmacaoReserva()"
      [showIcon]="true"
      [icone]="faConfirm"
      [textButton]="'Confirmar uso'"
      (emmiterClick)="confirmarUso()"
    ></app-btn-green>

    <app-btn-red
      [showIcon]="true"
      [icone]="faCancel"
      [textButton]="'Cancelar reserva'"
      (emmiterClick)="cancelarReserva()"
    ></app-btn-red>
  </div>
</div>
