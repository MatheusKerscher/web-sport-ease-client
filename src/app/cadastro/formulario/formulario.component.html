<div class="d-flex align-items-center justify-content-center">
  <div class="card-fomulario card-shadow p-3">
    <header class="d-flex align-items-center justify-content-center">
      <img
        src="../../../assets/site/logo-sport-ease.png"
        alt="logo sport ease ufpr"
        width="70"
      />
      <h1 class="ms-2 mb-0 text-dark-blue">SportEase</h1>
    </header>

    <main class="mt-3">
      <h3 class="text-green text-center">Criar conta</h3>

      <form [formGroup]="formCadastroCliente" class="p-2">
        <div class="row w-100">
          <div class="col-12">
            <app-without-input-text
              [formGroup]="formCadastroCliente"
              [controlName]="'nome'"
              [placeholder]="'Seu nome completo...'"
              [validacaoInput]="true"
              [typeForAutocomplete]="'off'"
            ></app-without-input-text>
          </div>

          <div class="col-12">
            <app-without-input-email
              [formGroup]="formCadastroCliente"
              [controlName]="'email'"
              [placeholder]="'Seu melhor e-mail...'"
              [validacaoInput]="true"
            ></app-without-input-email>
          </div>

          <div class="col-12">
            <app-without-input-text
              [formGroup]="formCadastroCliente"
              [controlName]="'cpf'"
              [placeholder]="'Seu CPF (123.456.789-10)...'"
              [validacaoInput]="true"
              [typeForAutocomplete]="'off'"
              [maskInput]="'000.000.000-00'"
            ></app-without-input-text>
          </div>

          <div class="col-12">
            <app-input-checkbox
              [formGroup]="formCadastroCliente"
              [controlName]="'vinculo'"
              [label]="'Sou aluno(a) da UFPR'"
              (emmiterChange)="showGrr()"
            ></app-input-checkbox>

            <div class="mt-2" *ngIf="showInputGrr">
              <app-without-input-text
                [formGroup]="formCadastroCliente"
                [controlName]="'grr'"
                [placeholder]="'Seu GRR (somente os números)...'"
                [validacaoInput]="true"
                [typeForAutocomplete]="'off'"
                [maskInput]="'00000000'"
              ></app-without-input-text>
            </div>
          </div>

          <div class="col-12 col-md-6 mt-2">
            <app-input-senha
              [formGroup]="formCadastroCliente"
              [controlName]="'senha'"
              [label]="'Senha...'"
              [validacaoInput]="true"
              (emmiterFocus)="focusPassword($event)"
            >
            </app-input-senha>
          </div>

          <div class="col-12 col-md-6 mt-2">
            <app-input-senha
              [formGroup]="formCadastroCliente"
              [controlName]="'confirmacaoSenha'"
              [label]="'Confirmar Senha...'"
              [validacaoInput]="true"
              (emmiterFocus)="focusPassword($event)"
            >
            </app-input-senha>
          </div>

          <ng-container *ngIf="passwordChecklist">
            <div class="checklist">
              <ul class="password-checklist">
                <li
                  [ngClass]="
                    formCadastroCliente.controls['senha'].hasError(
                      'required'
                    ) ||
                    formCadastroCliente.controls['senha'].hasError(
                      'minlength'
                    )
                      ? 'tem-erros'
                      : 'sem-erros'
                  "
                >
                  <ng-container
                    *ngIf="
                      formCadastroCliente.controls['senha'].hasError(
                        'required'
                      ) ||
                        formCadastroCliente.controls['senha'].hasError(
                          'minlength'
                        );
                      else isMinlengthValid
                    "
                  >
                    <fa-icon [icon]="faInvalid"></fa-icon>
                  </ng-container>

                  <ng-template #isMinlengthValid>
                    <fa-icon [icon]="faValid"></fa-icon>
                  </ng-template>

                  A senha deve ter pelo menos <strong> 6 dígitos </strong>
                </li>
                <li [ngClass]="senhasDiferentes ? 'tem-erros' : 'sem-erros'">
                  <ng-container *ngIf="senhasDiferentes; else isSenhasIguais">
                    <fa-icon [icon]="faInvalid"></fa-icon>
                  </ng-container>

                  <ng-template #isSenhasIguais>
                    <fa-icon [icon]="faValid"></fa-icon>
                  </ng-template>

                  As senhas devem ser <strong> iguais </strong>
                </li>
              </ul>
            </div>
          </ng-container>

          <div class="col-12 d-block d-md-flex justify-content-end mt-2">
            <div>
              <app-btn-green
                [textButton]="'Cadastrar'"
                [buttonDisabled]="formCadastroCliente.invalid"
                (emmiterClick)="cadastrar()"
              ></app-btn-green>
            </div>

            <div class="ms-0 ms-md-2 mt-2 mt-md-0">
              <app-btn-border-green
                [textButton]="'Cancelar'"
              ></app-btn-border-green>
            </div>
          </div>
        </div>
      </form>
    </main>
  </div>
</div>
